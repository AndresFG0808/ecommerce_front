

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
 <!-- Botón para registrar un nuevo producto -->
 
<div class="nuevo-producto-container">
 <button class="btn-nuevo" (click)="toggleForm()">➕ Nuevo Producto</button>
</div>

      <!-- productos.component.html -->

       
<div class="tarjetas-productos">
  <div class="tarjeta" *ngFor="let producto of productos">
   <h3>{{ producto.nombre }}</h3>
    <p>{{ producto.descripcion }}</p>
    <p><strong>Precio:</strong> ${{ producto.precio }}</p>
    <p><strong>Stock:</strong> {{ producto.stock }}</p>
    <p><strong *ngIf="muestraAcciones">Aciones</strong> 




    <div *ngIf="isAdmin" class="botones-tarjeta">
    <button (click)="editProducto(producto)">Editar</button>
    <button (click)="deleteProducto(producto.id)">Eliminar</button>
    </div>
  </div>
</div>



<!-- Modal para editar/eliminar productos -->
 <!-- Modal Bootstrap para el formulario de producto -->
<div class="modal fade" id="modalProducto" tabindex="-1" aria-labelledby="modalProductoLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="modalProductoLabel">{{ textoModal }}</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
      </div>
      <div class="modal-body">
        <form [formGroup]="productoForm" (ngSubmit)="onsubmit()">
          <label>Nombre:</label>
          <input formControlName="nombre" class="form-control" />
          <div *ngIf="productoForm.get('nombre')?.invalid && productoForm.get('nombre')?.touched">
            <small>El nombre es obligatorio (20-30 caracteres).</small>
          </div>

          <label>Descripción:</label>
          <textarea formControlName="descripcion" class="form-control"></textarea>
          <div *ngIf="productoForm.get('descripcion')?.invalid && productoForm.get('descripcion')?.touched">
            <small>La descripción es obligatoria (20-150 caracteres).</small>
          </div>

          <label>Precio:</label>
          <input type="number" formControlName="precio" class="form-control" />
          <div *ngIf="productoForm.get('precio')?.invalid && productoForm.get('precio')?.touched">
            <small>El precio debe ser mayor o igual a 0.</small>
          </div>

          <label>Stock:</label>
          <input type="number" formControlName="stock" class="form-control" />
          <div *ngIf="productoForm.get('stock')?.invalid && productoForm.get('stock')?.touched">
            <small>El stock debe ser un número entero mayor o igual a 0.</small>
          </div>

          <div class="mt-3">
            <button type="submit" class="btn btn-primary" [disabled]="productoForm.invalid">
              {{ isEditMode ? 'Actualizar' : 'Crear' }}
            </button>
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" (click)="resetForm()">Cancelar</button>
          </div>
        </form>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

        
      </div>
    </div>
  </div>
</div>

